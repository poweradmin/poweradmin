{
  "name": "poweradmin/poweradmin",
  "description": "A web-based control panel for PowerDNS.",
  "type": "project",
  "homepage": "https://www.poweradmin.org",
  "license": "GPL-3.0-or-later",
  "support": {
    "issues": "https://github.com/poweradmin/poweradmin/issues",
    "forum": "https://github.com/poweradmin/poweradmin/discussions",
    "source": "https://github.com/poweradmin/poweradmin",
    "docs": "https://docs.poweradmin.org"
  },
  "funding": [
    {
      "type": "opencollective",
      "url": "https://opencollective.com/poweradmin"
    },
    {
      "type": "other",
      "url": "https://paypal.me/egirkantas"
    }
  ],
  "require": {
    "php": ">=8.1",
    "ext-intl": "*",
    "ext-gettext": "*",
    "ext-openssl": "*",
    "ext-pdo": "*",
    "cakephp/core": "^5.2.5",
    "cakephp/database": "^5.2.5",
    "cakephp/datasource": "^5.2.5",
    "cakephp/utility": "^5.2.5",
    "jeremykendall/php-domain-parser": "^6.4.0",
    "psr/log": "^3.0.2",
    "robmorgan/phinx": "^0.16.10",
    "symfony/config": "^6.4.22",
    "symfony/console": "^6.4.23",
    "symfony/filesystem": "^v6.4.13",
    "symfony/http-foundation": "^6.4.23",
    "symfony/property-access": "^6.4.18",
    "symfony/serializer": "^6.4.23",
    "symfony/string": "^6.4.21",
    "symfony/translation": "^6.4.23",
    "symfony/twig-bridge": "^6.4.22",
    "symfony/validator": "^6.4.23",
    "twbs/bootstrap": "^5.3.7",
    "twbs/bootstrap-icons": "^1.13.1",
    "twig/twig": "^3.21.1",
    "pragmarx/google2fa": "^8.0.3",
    "bacon/bacon-qr-code": "^3.0.1",
    "zircote/swagger-php": "^5.7.8"
  },
  "suggest": {
    "ext-ldap": "For LDAP support"
  },
  "autoload": {
    "psr-4": {
      "Poweradmin\\": "lib/",
      "PoweradminInstall\\": "install/helpers",
      "TestHelpers\\": "tests/helpers"
    }
  },
  "autoload-dev": {
    "psr-4": {
      "unit\\": "tests/unit/"
    }
  },
  "require-dev": {
    "phpunit/phpunit": "^10.5.62",
    "squizlabs/php_codesniffer": "^3.11.2",
    "phpstan/phpstan": "^2.1",
    "friendsofphp/php-cs-fixer": "^v3.84.0",
    "vimeo/psalm": "^5.26",
    "phpmd/phpmd": "^2.15",
    "phan/phan": "^6.0"
  },
  "scripts": {
    "docs": "tools/phpDocumentor",
    "docs:api:json": "vendor/bin/openapi lib/Application/Controller/Api/V1/ --output docs/openapi.json",
    "docs:api:yaml": "vendor/bin/openapi lib/Application/Controller/Api/V1/ --output docs/openapi.yaml --format yaml",
    "docs:api": ["@docs:api:json", "@docs:api:yaml"],
    "db:migrate": "vendor/bin/phinx migrate -c tools/phinx.php",

    "tests": "phpunit --testsuite unit",
    "tests:integration": "phpunit --testsuite integration",

    "check:all": "phpcs --standard=phpcs.xml addons config db index.php install lib tests tools dynamic_update.php",
    "format:all": "phpcbf --standard=phpcs.xml addons config db index.php install lib tests tools dynamic_update.php",
    "style:all": "PHP_CS_FIXER_IGNORE_ENV=1 php-cs-fixer fix -- addons config db index.php install lib tests tools dynamic_update.php",
    "analyse:phpstan": "phpstan analyse --level=3 addons config db index.php install lib tests tools dynamic_update.php",
    "analyse:psalm": "psalm",
    "quality:all": "phpmd addons,config,db,index.php,install,lib,tools,dynamic_update.php ansi phpmd.xml",
    "lint:twig": "! grep -rn 'name=\"csrf_token\"' templates/ --include='*.html' || (echo 'ERROR: Use name=\"_token\" instead of name=\"csrf_token\" for CSRF token fields' && false)",
    "analyse:all": [
        "@check:all",
        "@analyse:psalm",
        "@analyse:phpstan",
        "@lint:twig"
    ],

    "compat:8.1": "phan --target-php-version=8.1 --allow-polyfill-parser",
    "compat:8.2": "phan --target-php-version=8.2 --allow-polyfill-parser",
    "compat:8.3": "phan --target-php-version=8.3 --allow-polyfill-parser",
    "compat:8.4": "phan --target-php-version=8.4 --allow-polyfill-parser",
    "compat:8.5": "phan --target-php-version=8.5 --allow-polyfill-parser",
    "compat:all": [
        "@compat:8.1",
        "@compat:8.2",
        "@compat:8.3",
        "@compat:8.4",
        "@compat:8.5"
    ],

    "post-create-project-cmd": [
      "rm -rf install/",
      "rm -rf tests/"
    ]
  },
  "config": {
    "platform": {
      "php": "8.1"
    },
    "allow-plugins": {
      "cweagans/composer-patches": true
    }
  },
  "archive": {
    "exclude": [
      ".devcontainer",
      ".github",
      "cypress/",
      "install/",
      "tests",
      "tools/",
      ".dockerignore",
      ".gitignore",
      ".php-cs-fixer.php",
      "cypress.config.js",
      "DONORS.md",
      "package.json",
      "phpcs.xml",
      "phpdoc.dist.xml",
      "phpunit.xml.dist",
      "psalm.xml",
      "transifex.yml"
    ]
  }
}
