# Poweradmin Routes Configuration

# Home and Authentication
home:
  path: /
  controller: Poweradmin\Application\Controller\IndexController::run

login:
  path: /login
  controller: Poweradmin\Application\Controller\LoginController::run
  methods: [GET, POST]

logout:
  path: /logout
  controller: Poweradmin\Application\Controller\LogoutController::run

# OIDC Authentication
oidc_login:
  path: /oidc/login
  controller: Poweradmin\Application\Controller\OidcLoginController::run
  methods: [GET]

oidc_callback:
  path: /oidc/callback
  controller: Poweradmin\Application\Controller\OidcCallbackController::run
  methods: [GET]

# SAML Authentication
saml_login:
  path: /saml/login
  controller: Poweradmin\Application\Controller\SamlLoginController::run
  methods: [GET]

saml_acs:
  path: /saml/acs
  controller: Poweradmin\Application\Controller\SamlCallbackController::run
  methods: [POST]

saml_sls:
  path: /saml/sls
  controller: Poweradmin\Application\Controller\SamlCallbackController::run
  methods: [GET, POST]

saml_metadata:
  path: /saml/metadata
  controller: Poweradmin\Application\Controller\SamlMetadataController::run
  methods: [GET]

# Multi-Factor Authentication
mfa_setup:
  path: /mfa/setup
  controller: Poweradmin\Application\Controller\MfaSetupController::run
  methods: [GET, POST]

mfa_verify:
  path: /mfa/verify
  controller: Poweradmin\Application\Controller\MfaVerifyController::run
  methods: [GET, POST]

# User Agreement
user_agreement:
  path: /user-agreement
  controller: Poweradmin\Application\Controller\UserAgreementController::run
  methods: [GET, POST]

# User Management
users:
  path: /users
  controller: Poweradmin\Application\Controller\UsersController::run

user_add:
  path: /users/add
  controller: Poweradmin\Application\Controller\AddUserController::run
  methods: [GET, POST]

user_edit:
  path: /users/{id}/edit
  controller: Poweradmin\Application\Controller\EditUserController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

user_delete:
  path: /users/{id}/delete
  controller: Poweradmin\Application\Controller\DeleteUserController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

# User Preferences
user_preferences:
  path: /user/preferences
  controller: Poweradmin\Application\Controller\UserPreferencesController::run
  methods: [GET, POST]

# Password Management
change_password:
  path: /password/change
  controller: Poweradmin\Application\Controller\ChangePasswordController::run
  methods: [GET, POST]

forgot_password:
  path: /password/forgot
  controller: Poweradmin\Application\Controller\ForgotPasswordController::run
  methods: [GET, POST]

reset_password:
  path: /password/reset
  controller: Poweradmin\Application\Controller\ResetPasswordController::run
  methods: [GET, POST]

# Username Recovery
forgot_username:
  path: /username/forgot
  controller: Poweradmin\Application\Controller\ForgotUsernameController::run
  methods: [GET, POST]

# Zone Management
zones_forward:
  path: /zones/forward
  controller: Poweradmin\Application\Controller\ListForwardZonesController::run

zones_reverse:
  path: /zones/reverse
  controller: Poweradmin\Application\Controller\ListReverseZonesController::run

zones_template:
  path: /zones/template
  controller: Poweradmin\Application\Controller\ListTemplateZonesController::run

zone_add_master:
  path: /zones/add/master
  controller: Poweradmin\Application\Controller\AddZoneMasterController::run
  methods: [GET, POST]

zone_add_slave:
  path: /zones/add/slave
  controller: Poweradmin\Application\Controller\AddZoneSlaveController::run
  methods: [GET, POST]

zone_edit:
  path: /zones/{id}/edit
  controller: Poweradmin\Application\Controller\EditController::run
  requirements:
    id: '\d+'

zone_delete:
  path: /zones/{id}/delete
  controller: Poweradmin\Application\Controller\DeleteDomainController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

bulk_registration:
  path: /zones/bulk-registration
  controller: Poweradmin\Application\Controller\BulkRegistrationController::run
  methods: [GET, POST]

delete_domains:
  path: /zones/delete
  controller: Poweradmin\Application\Controller\DeleteDomainsController::run
  methods: [GET, POST]

batch_ptr:
  path: /zones/batch-ptr
  controller: Poweradmin\Application\Controller\BatchPtrRecordController::run
  methods: [GET, POST]

zones_logs:
  path: /zones/logs
  controller: Poweradmin\Application\Controller\ListLogZonesController::run

zones_templates:
  path: /zones/templates
  controller: Poweradmin\Application\Controller\ListZoneTemplController::run

zone_template_add:
  path: /zones/templates/add
  controller: Poweradmin\Application\Controller\AddZoneTemplController::run
  methods: [GET, POST]

zone_template_edit:
  path: /zones/templates/{id}/edit
  controller: Poweradmin\Application\Controller\EditZoneTemplController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

zone_template_delete:
  path: /zones/templates/{id}/delete
  controller: Poweradmin\Application\Controller\DeleteZoneTemplController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

zone_template_record_add:
  path: /zones/templates/{id}/records/add
  controller: Poweradmin\Application\Controller\AddZoneTemplRecordController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

zone_template_record_edit:
  path: /zones/templates/{template_id}/records/{id}/edit
  controller: Poweradmin\Application\Controller\EditZoneTemplRecordController::run
  requirements:
    template_id: '\d+'
    id: '\d+'
  methods: [GET, POST]

zone_template_record_delete:
  path: /zones/templates/{template_id}/records/{id}/delete
  controller: Poweradmin\Application\Controller\DeleteZoneTemplRecordController::run
  requirements:
    template_id: '\d+'
    id: '\d+'
  methods: [GET, POST]

# Record Management
record_add:
  path: /zones/{zone_id}/records/add
  controller: Poweradmin\Application\Controller\AddRecordController::run
  requirements:
    zone_id: '\d+'
  methods: [GET, POST]

record_edit:
  path: /zones/{zone_id}/records/{id}/edit
  controller: Poweradmin\Application\Controller\EditRecordController::run
  requirements:
    zone_id: '\d+'
    id: '\d+'
  methods: [GET, POST]

record_delete:
  path: /zones/{zone_id}/records/{id}/delete
  controller: Poweradmin\Application\Controller\DeleteRecordController::run
  requirements:
    zone_id: '\d+'
    id: '\d+'
  methods: [GET, POST]

# Permission Templates
list_perm_templ:
  path: /permissions/templates
  controller: Poweradmin\Application\Controller\ListPermTemplController::run

add_perm_templ:
  path: /permissions/templates/add
  controller: Poweradmin\Application\Controller\AddPermTemplController::run
  methods: [GET, POST]

edit_perm_templ:
  path: /permissions/templates/{id}/edit
  controller: Poweradmin\Application\Controller\EditPermTemplController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

delete_perm_templ:
  path: /permissions/templates/{id}/delete
  controller: Poweradmin\Application\Controller\DeletePermTemplController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

# User Logs
users_logs:
  path: /users/logs
  controller: Poweradmin\Application\Controller\ListLogUsersController::run

# DNSSEC Management
dnssec:
  path: /zones/{id}/dnssec
  controller: Poweradmin\Application\Controller\DnssecController::run
  requirements:
    id: '\d+'

dnssec_add_key:
  path: /zones/{id}/dnssec/keys/add
  controller: Poweradmin\Application\Controller\DnssecAddKeyController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

dnssec_edit_key:
  path: /zones/{zone_id}/dnssec/keys/{key_id}/edit
  controller: Poweradmin\Application\Controller\DnssecEditKeyController::run
  requirements:
    zone_id: '\d+'
    key_id: '\d+'
  methods: [GET, POST]

dnssec_delete_key:
  path: /zones/{zone_id}/dnssec/keys/{key_id}/delete
  controller: Poweradmin\Application\Controller\DnssecDeleteKeyController::run
  requirements:
    zone_id: '\d+'
    key_id: '\d+'
  methods: [GET, POST]

dnssec_ds_dnskey:
  path: /zones/{id}/dnssec/ds-dnskey
  controller: Poweradmin\Application\Controller\DnssecDsDnskeyController::run
  requirements:
    id: '\d+'

# Search
search:
  path: /search
  controller: Poweradmin\Application\Controller\SearchController::run
  methods: [GET, POST]

# Utilities
whois:
  path: /whois
  controller: Poweradmin\Application\Controller\WhoisController::run

rdap:
  path: /rdap
  controller: Poweradmin\Application\Controller\RdapController::run

# API Keys Management
api_keys_list:
  path: /settings/api-keys
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  methods: [GET]

api_keys_add:
  path: /settings/api-keys/add
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  methods: [GET, POST]

api_keys_edit:
  path: /settings/api-keys/{id}/edit
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

api_keys_delete:
  path: /settings/api-keys/{id}/delete
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

api_keys_regenerate:
  path: /settings/api-keys/{id}/regenerate
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

api_keys_toggle:
  path: /settings/api-keys/{id}/toggle
  controller: Poweradmin\Application\Controller\ApiKeysController::run
  requirements:
    id: '\d+'
  methods: [POST]

database_consistency:
  path: /tools/database-consistency
  controller: Poweradmin\Application\Controller\DatabaseConsistencyController::run

email_previews:
  path: /tools/email-previews
  controller: Poweradmin\Application\Controller\EmailPreviewsController::run

pdns_status:
  path: /tools/pdns-status
  controller: Poweradmin\Application\Controller\PdnsStatusController::run
  methods: [GET, POST]

# Supermaster Management
list_supermasters:
  path: /supermasters
  controller: Poweradmin\Application\Controller\ListSupermastersController::run

add_supermaster:
  path: /supermasters/add
  controller: Poweradmin\Application\Controller\AddSupermasterController::run
  methods: [GET, POST]

edit_supermaster:
  path: /supermasters/edit
  controller: Poweradmin\Application\Controller\EditSupermasterController::run
  methods: [GET, POST]

delete_supermaster:
  path: /supermasters/delete
  controller: Poweradmin\Application\Controller\DeleteSupermasterController::run
  methods: [GET, POST]

# API v1 Routes - RESTful
api_v1_zones:
  path: /api/v1/zones
  controller: Poweradmin\Application\Controller\Api\V1\ZonesController::run
  methods: [GET, POST]

api_v1_zone:
  path: /api/v1/zones/{id}
  controller: Poweradmin\Application\Controller\Api\V1\ZonesController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, DELETE]

api_v1_zone_records:
  path: /api/v1/zones/{id}/records
  controller: Poweradmin\Application\Controller\Api\V1\ZonesRecordsController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

api_v1_zone_record:
  path: /api/v1/zones/{id}/records/{record_id}
  controller: Poweradmin\Application\Controller\Api\V1\ZonesRecordsController::run
  requirements:
    id: '\d+'
    record_id: '\d+'
  methods: [GET, PUT, DELETE]

api_v1_users:
  path: /api/v1/users
  controller: Poweradmin\Application\Controller\Api\V1\UsersController::run
  methods: [GET, POST]

api_v1_user:
  path: /api/v1/users/{id}
  controller: Poweradmin\Application\Controller\Api\V1\UsersController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, PATCH, DELETE]

api_v1_permission_templates:
  path: /api/v1/permission-templates
  controller: Poweradmin\Application\Controller\Api\V1\PermissionTemplatesController::run
  methods: [GET, POST]

api_v1_permission_template:
  path: /api/v1/permission-templates/{id}
  controller: Poweradmin\Application\Controller\Api\V1\PermissionTemplatesController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, DELETE]

api_v1_permissions:
  path: /api/v1/permissions
  controller: Poweradmin\Application\Controller\Api\V1\PermissionsController::run
  methods: [GET]

api_v1_permission:
  path: /api/v1/permissions/{id}
  controller: Poweradmin\Application\Controller\Api\V1\PermissionsController::run
  requirements:
    id: '\d+'
  methods: [GET]

# API v2 Routes - RESTful with wrapped responses
api_v2_zones:
  path: /api/v2/zones
  controller: Poweradmin\Application\Controller\Api\V2\ZonesController::run
  methods: [GET, POST]

api_v2_zone:
  path: /api/v2/zones/{id}
  controller: Poweradmin\Application\Controller\Api\V2\ZonesController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, DELETE]

api_v2_zone_records:
  path: /api/v2/zones/{id}/records
  controller: Poweradmin\Application\Controller\Api\V2\ZonesRecordsController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

api_v2_zone_record:
  path: /api/v2/zones/{id}/records/{record_id}
  controller: Poweradmin\Application\Controller\Api\V2\ZonesRecordsController::run
  requirements:
    id: '\d+'
    record_id: '\d+'
  methods: [GET, PUT, DELETE]

api_v2_zone_records_bulk:
  path: /api/v2/zones/{id}/records/bulk
  controller: Poweradmin\Application\Controller\Api\V2\ZonesRecordsBulkController::run
  requirements:
    id: '\d+'
  methods: [POST]

api_v2_zone_rrsets:
  path: /api/v2/zones/{id}/rrsets
  controller: Poweradmin\Application\Controller\Api\V2\ZonesRRSetsController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, POST, PATCH]

api_v2_zone_rrset:
  path: /api/v2/zones/{id}/rrsets/{name}/{type}
  controller: Poweradmin\Application\Controller\Api\V2\ZonesRRSetsController::run
  requirements:
    id: '\d+'
  methods: [GET, DELETE]

api_v2_users:
  path: /api/v2/users
  controller: Poweradmin\Application\Controller\Api\V2\UsersController::run
  methods: [GET, POST]

api_v2_user:
  path: /api/v2/users/{id}
  controller: Poweradmin\Application\Controller\Api\V2\UsersController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, PATCH, DELETE]

api_v2_permission_templates:
  path: /api/v2/permission-templates
  controller: Poweradmin\Application\Controller\Api\V2\PermissionTemplatesController::run
  methods: [GET, POST]

api_v2_permission_template:
  path: /api/v2/permission-templates/{id}
  controller: Poweradmin\Application\Controller\Api\V2\PermissionTemplatesController::run
  requirements:
    id: '\d+'
  methods: [GET, PUT, DELETE]

api_v2_permissions:
  path: /api/v2/permissions
  controller: Poweradmin\Application\Controller\Api\V2\PermissionsController::run
  methods: [GET]

api_v2_permission:
  path: /api/v2/permissions/{id}
  controller: Poweradmin\Application\Controller\Api\V2\PermissionsController::run
  requirements:
    id: '\d+'
  methods: [GET]

# API Documentation
api_docs:
  path: /api/docs
  controller: Poweradmin\Application\Controller\Api\DocsController::run

# Versioned API Documentation (V1 and V2)
api_docs_json_v1:
  path: /api/docs/v1/json
  controller: Poweradmin\Application\Controller\Api\Docs\JsonController::run
  defaults:
    version: V1

api_docs_json_v2:
  path: /api/docs/v2/json
  controller: Poweradmin\Application\Controller\Api\Docs\JsonController::run
  defaults:
    version: V2

# Legacy endpoint (defaults to V1 for backward compatibility)
api_docs_json:
  path: /api/docs/json
  controller: Poweradmin\Application\Controller\Api\Docs\JsonController::run
  defaults:
    version: V1

# Internal API Routes
api_internal_validation:
  path: /api/internal/validation
  controller: Poweradmin\Application\Controller\Api\Internal\ValidationController::run

api_internal_user_preferences:
  path: /api/internal/user-preferences
  controller: Poweradmin\Application\Controller\Api\Internal\UserPreferencesController::run

api_internal_zone:
  path: /api/internal/zone
  controller: Poweradmin\Application\Controller\Api\Internal\ZoneController::run

api_internal_dns_wizard:
  path: /api/internal/dns-wizard
  controller: Poweradmin\Application\Controller\Api\Internal\DnsWizardController::run
  methods: [GET, POST]

# DNS Wizard Pages
dns_wizard_select:
  path: /zones/{id}/wizard
  controller: Poweradmin\Application\Controller\DnsWizardController::run
  requirements:
    id: '\d+'
  methods: [GET]

dns_wizard_form:
  path: /zones/{id}/wizard/{type}
  controller: Poweradmin\Application\Controller\DnsWizardFormController::run
  requirements:
    id: '\d+'
    type: '[a-zA-Z]+'
  methods: [GET, POST]

# Additional Zone Management Routes
bulk_record_add:
  path: /zones/{id}/records/bulk
  controller: Poweradmin\Application\Controller\BulkRecordAddController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

edit_comment:
  path: /zones/{id}/comment/edit
  controller: Poweradmin\Application\Controller\EditCommentController::run
  requirements:
    id: '\d+'
  methods: [GET, POST]

delete_records:
  path: /zones/records/delete
  controller: Poweradmin\Application\Controller\DeleteRecordsController::run
  methods: [GET, POST]

# Zone Template Routes
list_template_zones:
  path: /zones/templates/{id}/zones
  controller: Poweradmin\Application\Controller\ListTemplateZonesController::run
  requirements:
    id: '\d+'

unlink_zones_templ:
  path: /zones/templates/unlink
  controller: Poweradmin\Application\Controller\UnlinkZonesTemplController::run
  methods: [GET, POST]

# Authentication Routes  
reset_password_token:
  path: /auth/reset-password/{token}
  controller: Poweradmin\Application\Controller\ResetPasswordController::run
  requirements:
    token: '[a-zA-Z0-9]+'
  methods: [GET, POST]

mfa_verify_token:
  path: /auth/mfa/verify/{token}
  controller: Poweradmin\Application\Controller\MfaVerifyController::run
  requirements:
    token: '[a-zA-Z0-9]+'
  methods: [GET, POST]

# DNSSEC Key Management
dnssec_key_toggle:
  path: /zones/{zone_id}/dnssec/keys/{key_id}/toggle
  controller: Poweradmin\Application\Controller\DnssecToggleKeyController::run
  requirements:
    zone_id: '\d+'
    key_id: '\d+'
  methods: [GET, POST]

# Static Assets
static_assets:
  path: /{path}
  controller: Poweradmin\Application\Controller\StaticAssetController::run
  requirements:
    path: '.+\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$'