<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ base_url_prefix }}/">{% trans %}Home{% endtrans %}</a></li>
        <li class="breadcrumb-item">
        {% if is_reverse_zone %}
        <a href="{{ base_url_prefix }}/zones/reverse">{% trans %}Reverse Zones{% endtrans %}</a>
        {% else %}
        <a href="{{ base_url_prefix }}/zones/forward">{% trans %}Forward Zones{% endtrans %}</a>
        {% endif %}
    </li>
        <li class="breadcrumb-item" aria-current="page">{% trans %}Add slave zone{% endtrans %}</li>
    </ol>
</nav>

<form class="needs-validation" method="post" action="{{ base_url_prefix }}/zones/add/slave" novalidate>
    <input type="hidden" name="_token" value="{{ csrf_token }}">

<div class="row">
    <!-- Left Column - Zone Configuration -->
    <div class="col-md-6">
        <div class="card shadow-sm mb-4">
            <div class="card-header py-3">
                <strong><i class="bi bi-cloud-download me-2"></i>{% trans %}Slave Zone Configuration{% endtrans %}</strong>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="domain" class="form-label">{% trans %}Zone name{% endtrans %} <span class="text-danger">*</span></label>
                    <input class="form-control form-control-sm" type="text" id="domain" name="domain" value="{{ domain_value }}" required>
                    <div class="invalid-feedback">{% trans %}Provide zone name{% endtrans %}</div>
                    <small class="text-muted">{% trans %}Example: example.com{% endtrans %}</small>
                </div>

                <div class="mb-3">
                    <label for="slave_master" class="form-label">{% trans %}IP address of master NS{% endtrans %} <span class="text-danger">*</span></label>
                    <input class="form-control form-control-sm" type="text" id="slave_master" name="slave_master" value="{{ slave_master_value }}" required>
                    <div class="invalid-feedback">{% trans %}Provide IP address{% endtrans %}</div>
                    <small class="text-muted">{% trans %}IP address of the master name server (supports IPv4 and IPv6, multiple IPs separated by commas){% endtrans %}</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Column - Ownership -->
    <div class="col-md-6">
        <div class="card shadow-sm mb-4">
            <div class="card-header py-3">
                <strong><i class="bi bi-person-badge me-2"></i>{% trans %}User Owner{% endtrans %}</strong>
            </div>
            <div class="card-body">
                <div class="mb-2">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="owner" id="owner_none" value="" {% if owner_value == '' %}checked{% endif %}>
                        <label class="form-check-label" for="owner_none">
                            <strong>{% trans %}No user owner{% endtrans %}</strong>
                            <small class="text-muted d-block">{% trans %}Zone will be owned only by groups{% endtrans %}</small>
                        </label>
                    </div>
                </div>
                <hr class="my-2">
                <div style="max-height: 200px; overflow-y: auto;">
                    {% for user in users %}
                    {% if perm_view_others or user['id'] == session_user_id %}
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="owner" id="owner_{{ user['id'] }}" value="{{ user['id'] }}" {% if user['id'] == owner_value %}checked{% endif %}>
                        <label class="form-check-label" for="owner_{{ user['id'] }}">
                            {{ user['fullname'] }}
                            {% if user['id'] == session_user_id %}<span class="badge bg-primary ms-1">{% trans %}You{% endtrans %}</span>{% endif %}
                        </label>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
                <small class="text-muted mt-2 d-block">{% trans %}Optional: Select a user responsible for this zone{% endtrans %}</small>
            </div>
        </div>

        {% if all_groups is not empty %}
        <div class="card shadow-sm mb-4">
            <div class="card-header py-3">
                <strong><i class="bi bi-people me-2"></i>{% trans %}Group Ownership{% endtrans %}</strong>
            </div>
            <div class="card-body">
                <div style="max-height: 200px; overflow-y: auto;">
                    {% for group in all_groups %}
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" name="groups[]" id="group_{{ group.id }}" value="{{ group.id }}" {% if selected_groups is defined and group.id in selected_groups %}checked{% endif %}>
                        <label class="form-check-label" for="group_{{ group.id }}">
                            {{ group.name }}
                            {% if group.description %}<small class="text-muted d-block">{{ group.description }}</small>{% endif %}
                        </label>
                    </div>
                    {% endfor %}
                </div>
                <small class="text-muted mt-2 d-block">{% trans %}Optional: Select one or more groups{% endtrans %}</small>
            </div>
        </div>
        {% endif %}

        <div class="alert alert-info small mb-0">
            <i class="bi bi-info-circle me-1"></i>
            {% trans %}At least one user or group must be selected as owner{% endtrans %}
        </div>
    </div>
</div>

<!-- Action Buttons -->
<div class="row">
    <div class="col-12">
        <div class="card shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <button class="btn btn-primary btn-sm" type="submit" name="submit">
                            <i class="bi bi-plus-circle me-1 text-white"></i>{% trans %}Add zone{% endtrans %}
                        </button>
                        <a href="{{ base_url_prefix }}/zones/forward" class="btn btn-secondary btn-sm">
                            <i class="bi bi-x-circle me-1 text-white"></i>{% trans %}Cancel{% endtrans %}
                        </a>
                    </div>
                    <small class="text-muted">{% trans %}* Required fields{% endtrans %}</small>
                </div>
            </div>
        </div>
    </div>
</div>

</form>
